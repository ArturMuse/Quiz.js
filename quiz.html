<!-- Стили -->
<style>
    @import url(https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap);

    .quiz {
        background-color: #fafafa;
        border-radius: 16px;
        max-width: 900px;
        margin: auto;
        padding: 28px 80px;
    }

    .quiz *,
    .quiz *::before,
    .quiz *::after {
        margin: 0;
        padding: 0;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        font-family: "Roboto", sans-serif;
    }

    .quiz-set {
        font-size: 18px;
        line-height: 26px;
        margin-bottom: 14px;
        color: #767676;
    }

    .quiz-question {
        font-size: 22px;
        line-height: 26px;
        margin-bottom: 32px;
        color: #363636;
    }

    .quiz-box {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
        -ms-flex-direction: column;
        flex-direction: column;
    }

    .quiz-box__btn {
        font-size: 18px;
        line-height: 21px;
        text-align: left;
        padding: 20px 16px;
        color: #363636;
        background-color: #fff;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        border-radius: 4px;
        border: none;
        margin-bottom: 10px;
        cursor: pointer;
        -webkit-box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.15);
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.15);
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
    }

    .quiz-box__btn span {
        margin-right: 20px;
        font-weight: 500;
    }

    .quiz-box__btn:hover {
        color: #ffffff;
        background-color: #1e4b9c;
    }

    .quiz-back {
        font-size: 18px;
        margin-top: 28px;
        display: -webkit-inline-box;
        display: -ms-inline-flexbox;
        display: inline-flex;
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        color: #1f4b9d;
        border: none;
        background: none;
        cursor: pointer;
    }

    .quiz-back span {
        margin-right: 15px;
    }

    .quiz-back:hover {
        color: #d4145a;
    }

    .quiz-result-text {
        font-size: 22px;
        line-height: 26px;
        font-weight: 500;
        margin-bottom: 20px;
    }

    .quiz-result-btn {
        font-size: 18px;
        font-weight: 500;
        line-height: 21px;
        color: #1f4b9d;
        border: none;
        background: none;
        cursor: pointer;
    }

    .quiz-result-btn:hover {
        color: #d4145a;
    }

    .quiz-result-link {
        border-radius: 4px;
        display: inline-block;
        height: 48px;
        padding: 15px 12px;
        min-width: 48px;
        font-weight: 500;
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
        background-color: #1e4b9c;
        color: #fff;
        text-decoration: none;
        margin-right: 15px;
    }

    .quiz-result-link:hover {
        background-color: #0f2a71;
    }

    @media screen and (max-width: 610px) {
        .quiz {
            padding: 28px 20px;
        }

        .quiz-box__btn:hover {
            color: #363636;
            background-color: #fff;
        }

        .quiz-back:hover {
            color: #1f4b9d;
        }

        .quiz-result-link {
            margin-bottom: 20px;
            margin-right: 0;
        }

        .quiz-result-btn:hover {
            color: #1f4b9d;
        }
    }
</style>

<!-- HTML код -->
<div class="quiz">
    <p class="quiz-set js-set">
        Вопрос <span class="js-set-current"></span> из <span class="js-set-all"></span>
    </p>
    <p class="quiz-question js-question">


    </p>
    <div class="quiz-box js-quiz">

    </div>
</div>
<!-- JS. Данные. Questions – Вопросы с ответами answers -->
<!-- Result – Вывод результата. Каждый вопрос приносит от 0,25 до 1 очков. Во соотвествии с набранным количество очков формируется результат. Если меньше 5 зеленая зона. Если от 5 до 7 – желтая зона. Если от 7 до 11 – красная зона -->
<script>
    data = {
        questions: [
            {
                key: 1,
                name: "Как характеризуют вас друзья?",
                answers: [
                    {
                        letter: "А",
                        text: "Игрок",
                        value: 1
                    },
                    {
                        letter: "Б",
                        text: "Готов пойти на риск, но только после анализа последствий",
                        value: 0.75
                    },
                    {
                        letter: "В",
                        text: "Осторожный человек",
                        value: 0.5
                    },
                    {
                        letter: "Г",
                        text: "Крайне осторожный и мнительный",
                        value: 0.25
                    },
                ]
            },
            {
                key: 2,
                name: "При любых инвестициях бывают взлеты и падения стоимости активов. Что вы об этом думаете?",
                answers: [
                    {
                        letter: "А",
                        text: "Это меня останавливает, когда я думаю об инвестициях",
                        value: 0.25
                    },
                    {
                        letter: "Б",
                        text: "Меня это беспокоит, но я понимаю, что так работает финансовый рынок",
                        value: 0.5
                    },
                    {
                        letter: "В",
                        text: "Так устроен рынок, я не нервничаю",
                        value: 0.75
                    },
                    {
                        letter: "Г",
                        text: "Это хорошо, на этом как раз и можно заработать",
                        value: 1
                    },
                ]
            },
            {
                key: 3,
                name: "Вы накопили на путешествие своей мечты, но за 2 недели до поездки потеряли работу. Как вы поступите?",
                answers: [
                    {
                        letter: "А",
                        text: "Отменю путешествие",
                        value: 0.25
                    },
                    {
                        letter: "Б",
                        text: "Сделаю план путешествия скромнее, но поеду",
                        value: 0.5
                    },
                    {
                        letter: "В",
                        text: "Ничего не буду менять",
                        value: 0.75
                    },
                    {
                        letter: "Г",
                        text: "Продлю отпуск",
                        value: 1
                    },
                ]
            },
            {
                key: 4,
                name: "Вы хотите получать высокий инвестиционный доход. Готовы ли вы принять возможные убытки?",
                answers: [
                    {
                        letter: "А",
                        text: "Не готов, не буду спать ночами",
                        value: 0.25
                    },
                    {
                        letter: "Б",
                        text: "Готов, но буду немного переживать",
                        value: 0.5
                    },
                    {
                        letter: "В",
                        text: "Готов. Чем больше риск, тем больше возможностей",
                        value: 0.75
                    },
                    {
                        letter: "Г",
                        text: "Готов! Кто не рискует, то не пьет шампанское",
                        value: 1
                    },
                ]
            },
            {
                key: 5,
                name: "Какие ассоциации вызывает у вас слово «риск»?",
                answers: [
                    {
                        letter: "А",
                        text: "Риск — это потери",
                        value: 0.25
                    },
                    {
                        letter: "Б",
                        text: "Риск — это неопределенность",
                        value: 0.5
                    },
                    {
                        letter: "В",
                        text: "Риск — это возможности",
                        value: 0.75
                    },
                    {
                        letter: "Г",
                        text: "Риск — это азарт",
                        value: 1
                    },
                ]
            },
            {
                key: 6,
                name: "Какую из двух альтернатив вы предпочтете?",
                answers: [
                    {
                        letter: "А",
                        text: "Получить гарантированно 50 000 рублей",
                        value: 0.25
                    },
                    {
                        letter: "Б",
                        text: "Получить 120 000 рублей с вероятностью 50% и с вероятностью 50% ничего не заработать",
                        value: 0.5
                    }
                ]
            },
            {
                key: 7,
                name: "У вас есть 250 000 руб. В какой вид активов вы вложите основную долю? Помните, что больший риск связан с возможностью получения большего дохода.",
                answers: [
                    {
                        letter: "А",
                        text: "В низкорискованные активы",
                        value: 0.25
                    },
                    {
                        letter: "Б",
                        text: "В среднерискованные активы",
                        value: 0.5
                    },
                    {
                        letter: "В",
                        text: "В высокорискованные активы",
                        value: 0.75
                    }
                ]
            },
            {
                key: 8,
                name: "Мировой финансовый рынок имеет особенность расти и снижаться. Что вы будете делать, если стоимость вашего инвестиционного портфеля снизится на 10%?",
                answers: [
                    {
                        letter: "А",
                        text: "Продам все и положу на депозит",
                        value: 0.25
                    },
                    {
                        letter: "Б",
                        text: "Ничего не буду менять",
                        value: 0.75
                    },
                    {
                        letter: "В",
                        text: "Продам часть портфеля",
                        value: 0.5
                    },
                    {
                        letter: "Г",
                        text: "Займу денег и прикуплю еще",
                        value: 1
                    },
                ]
            },
            {
                key: 9,
                name: "Увеличились ли ваши сбережения за последние 12 месяцев без учета крупных покупок и инвестиций?",
                answers: [
                    {
                        letter: "А",
                        text: "Да",
                        value: 0.5
                    },
                    {
                        letter: "Б",
                        text: "Нет",
                        value: 0.1
                    }
                ]
            },
            {
                key: 10,
                name: "Ваши сбережения превышают размер вложений, которые вы хотите инвестировать?",
                answers: [
                    {
                        letter: "А",
                        text: "Да",
                        value: 0.5
                    },
                    {
                        letter: "Б",
                        text: "Нет",
                        value: 1
                    }
                ]
            },
            {
                key: 11,
                name: "Какой у вас опыт инвестирования на фондовом рынке?",
                answers: [
                    {
                        letter: "А",
                        text: "Нет опыта",
                        value: 1
                    },
                    {
                        letter: "Б",
                        text: "Есть, менее 1 года",
                        value: 0.75
                    },
                    {
                        letter: "В",
                        text: "Есть, 1-3 года",
                        value: 0.5
                    },
                    {
                        letter: "Г",
                        text: "Есть, более 3 лет",
                        value: 0.25
                    },
                ]
            }
        ],
        result: [
            {
                value: 5,
                text: "ниже средней",
                desc: "Судя по ответам, вы не хотите рисковать ради большого дохода. Вы воспринимаете риск только как потерю. Вам подойдут вложения с небольшим, но стабильным доходом"
            },
            {
                value: 7,
                text: "умеренная",
                desc: "Судя по вашим ответам, вы готовы вкладывать средства с умеренным уровнем риска. Вы никогда не жалеете об упущенной выгоде — так спокойней. "
            },
            {
                value: 11,
                text: "выше средней",
                desc: "Судя по ответам, вы готовы рисковать ради высокой доходности. Вы понимаете, что в мире финансов бывают взлеты и снижения, и вас это совершенно не пугает."
            },
        ]
    }


    // Логика. Тут лучше ничего не менять
    const quiz = document.querySelector(".js-quiz")
    let questionSet = document.querySelector(".js-set-current")
    let questionSetAll = document.querySelector(".js-set-all")
    const setName = document.querySelector(".js-question")
    const resultTitle = document.querySelector('.js-set')

    let resultArray = []
    let current = 0
    let result = 0
    let currentAnswer = ``

    questionSetAll.innerHTML = data.questions.length

    const sum = (value) => {
        if (current === data.questions.length - 1) {
            showResult()
        } else {
            resultArray.push(value)
            current += 1
            currentAnswer = ``
            pushAnswers()
        }
    }

    const back = () => {
        resultArray.pop()
        current = current - 1
        currentAnswer = ``
        pushAnswers()
    }

    const pushAnswers = () => {
        questionSet.innerHTML = data.questions[current].key
        setName.innerHTML = data.questions[current].name
        data.questions[current].answers.forEach(element => {
            currentAnswer += `
    <button type="button"
        
    " class="quiz-box__btn js-answer-btn">
    <span>${element.letter}</span>
    ${element.text}
    </button>
`    });

        quiz.innerHTML = currentAnswer + `${current > 0 ? `<button type="button" class="quiz-back js-quiz-back">
    <span>
        &lt; </span>Назад
    </button>` : ""}`

        if (current > 0) {
            const backBtn = document.querySelector(".js-quiz-back")
            backBtn.addEventListener("click", () => {
                back()
            })
        }

        const btns = document.querySelectorAll(".js-answer-btn")
        data.questions[current].answers.forEach((element, index) => {
            btns[index].addEventListener("click", () => {
                sum(element.value)
            })
        })
    }
    pushAnswers()

    const showResultText = (arg) => {
        if (result <= data.result[0].value) {
            return arg === 0 ? data.result[0].text : data.result[0].desc
        } else if (result > data.result[0].value && result <= data.result[1].value) {
            return arg === 0 ? data.result[1].text : data.result[1].desc
        } else if (result > data.result[1].value && result <= data.result[2].value) {
            return arg === 0 ? data.result[2].text : data.result[2].desc
        }
    }

    const showResultSvg = () => {
        if (result <= data.result[0].value) {
            return "transform: rotate(-69deg) translate(-232px, 50px)"
        } else if (result > data.result[0].value && result <= data.result[1].value) {
            return "transform: none"
        } else if (result > data.result[1].value && result <= data.result[2].value) {
            return "transform: rotate(59deg) translate(44px, -220px)"
        }
    }

    const restartQuiz = () => {
        current = 0
        result = 0
        resultArray = []
        currentAnswer = ``
        resultTitle.innerHTML = `
    Вопрос <span class="js-set-current"></span> из <span class="js-set-all"></span>
    `
        questionSet = document.querySelector(".js-set-current")
        questionSetAll = document.querySelector(".js-set-all")
        questionSetAll.innerHTML = data.questions.length
        pushAnswers()
    }

    const showResult = () => {
        resultArray.map(num => {
            result += num
        })
        resultTitle.innerHTML = "РЕЗУЛЬТАТЫ ТЕСТА НА РИСК-ПРОФИЛЬ"
        setName.innerHTML = `Ваша склонность к риску ${showResultText(0)}`
        quiz.innerHTML = `
    <div class="quiz-result">
    <svg class="jss101" width="313" height="191" viewBox="0 0 313 191" fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
            d="M288.615 97.776A142.998 142.998 0 0 1 299.478 150h-89.556a53.499 53.499 0 0 0-15.606-35.316 53.475 53.475 0 0 0-58.282-11.593 53.475 53.475 0 0 0-28.943 28.943A53.499 53.499 0 0 0 103.078 150H13.522a143 143 0 0 1 275.093-52.224z"
            fill="#00D190" stroke="#FAFAFA" stroke-width="5"></path>
        <path
            d="M279.401 79.394A142.994 142.994 0 0 1 299.479 150h-89.557a53.47 53.47 0 0 0-27.896-44.495 53.474 53.474 0 0 0-52.51.822L80.763 31.204A143.001 143.001 0 0 1 279.4 79.394z"
            fill="#F8A000" stroke="#FAFAFA" stroke-width="5"></path>
        <path
            d="M280.316 80.957A142.997 142.997 0 0 1 299.478 150h-89.557a53.481 53.481 0 0 0-24.577-42.534l44.725-77.59a142.993 142.993 0 0 1 50.247 51.081z"
            fill="#F93839" stroke="#FAFAFA" stroke-width="5"></path>
        <path
            d="M302 152.5A145.496 145.496 0 0 0 100.82 18.076 145.496 145.496 0 0 0 11 152.5h22.676a122.82 122.82 0 0 1 75.821-113.474 122.83 122.83 0 0 1 94.006 0 122.825 122.825 0 0 1 75.82 113.474H302z"
            fill="#C4C4C4"></path>
        <path
            d="M302 152.5A145.496 145.496 0 0 0 100.82 18.076 145.496 145.496 0 0 0 11 152.5h22.676a122.82 122.82 0 0 1 75.821-113.474 122.83 122.83 0 0 1 94.006 0 122.825 122.825 0 0 1 75.82 113.474H302z"
            fill="url(#paint0_linear)"></path>
        <path
            d="M302 152.5A145.496 145.496 0 0 0 100.82 18.076 145.496 145.496 0 0 0 11 152.5h22.676a122.82 122.82 0 0 1 75.821-113.474 122.83 122.83 0 0 1 94.006 0 122.825 122.825 0 0 1 75.82 113.474H302z"
            fill="url(#paint1_radial)"></path>
        <path
            d="M279 152.5a122.507 122.507 0 0 0-35.879-86.62A122.514 122.514 0 0 0 156.5 30a122.503 122.503 0 0 0-113.175 75.621A122.503 122.503 0 0 0 34 152.5h245z"
            fill="url(#paint2_radial)" style="mix-blend-mode: multiply;" filter="url(#filter0_d)"></path>
        <path fill="#FAFAFA" d="M10 143h296v36H10z"></path>
        <path style="${showResultSvg()}"
            d="M159.617 60.862c-1.349-.004-2.485 1.078-2.561 2.484l-5.252 83.574 14.017.131-3.683-83.656c-.062-1.403-1.153-2.52-2.521-2.533z"
            fill="url(#paint3_linear)"></path>
        <path style="${showResultSvg()}" opacity=".15"
            d="M159.617 60.862c-1.349-.004-2.485 1.078-2.561 2.484l-5.252 83.574 7.013.079.8-86.137z"
            fill="#fff"></path>
        <path
            d="M158.655 162.11c11.408 0 20.656-9.248 20.656-20.655 0-11.408-9.248-20.656-20.656-20.656-11.407 0-20.655 9.248-20.655 20.656 0 11.407 9.248 20.655 20.655 20.655z"
            fill="url(#paint4_linear)"></path>
        <path
            d="M158.656 156.946c8.555 0 15.491-6.936 15.491-15.491 0-8.556-6.936-15.492-15.491-15.492-8.556 0-15.492 6.936-15.492 15.492 0 8.555 6.936 15.491 15.492 15.491z"
            fill="url(#paint5_linear)"></path>
        <defs>
            <filter id="filter0_d" x="0" y="0" width="313" height="190.5" filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>
                <feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0">
                </feColorMatrix>
                <feOffset dy="4"></feOffset>
                <feGaussianBlur stdDeviation="17"></feGaussianBlur>
                <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"></feColorMatrix>
                <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend>
                <feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend>
            </filter>
            <linearGradient id="paint0_linear" x1="156.5" y1="7" x2="156.5" y2="298"
                gradientUnits="userSpaceOnUse">
                <stop stop-color="#fff"></stop>
                <stop offset="1" stop-color="#fff" stop-opacity="0"></stop>
            </linearGradient>
            <radialGradient id="paint1_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"
                gradientTransform="matrix(0 165 -165 0 157 152)">
                <stop offset=".806" stop-color="#696868" stop-opacity="0"></stop>
                <stop offset="1" stop-color="#fff" stop-opacity=".36"></stop>
            </radialGradient>
            <radialGradient id="paint2_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"
                gradientTransform="rotate(90 7 150) scale(119)">
                <stop offset=".584" stop-color="#fff"></stop>
                <stop offset="1" stop-color="#D2D1D1"></stop>
            </radialGradient>
            <linearGradient id="paint3_linear" x1="159.638" y1="59.406" x2="158.817" y2="146.918"
                gradientUnits="userSpaceOnUse">
                <stop stop-color="#4D4D4D"></stop>
                <stop offset="1" stop-color="#1A1A1A"></stop>
            </linearGradient>
            <linearGradient id="paint4_linear" x1="143.613" y1="124.403" x2="175.23" y2="160.202"
                gradientUnits="userSpaceOnUse">
                <stop stop-color="#4D4D4D"></stop>
                <stop offset="1" stop-color="#1A1A1A"></stop>
            </linearGradient>
            <linearGradient id="paint5_linear" x1="157.609" y1="158.468" x2="159.827" y2="122.714"
                gradientUnits="userSpaceOnUse">
                <stop stop-color="#4D4D4D"></stop>
                <stop offset="1" stop-color="#1A1A1A"></stop>
            </linearGradient>
        </defs>
    </svg>
    <p class="quiz-result-text js-result-text">
        ${showResultText(1)}
    </p>
    <div class="quiz-result-actions">
        <a href="#" class="quiz-result-link">
            Подберите портфель из ETF
        </a>
        <button type="button" class="quiz-result-btn js-restart-btn">
            Пройти тест ещё раз
        </button>
    </div>
</div>
    `
        const restartBtn = document.querySelector(".js-restart-btn")
        restartBtn.addEventListener("click", () => {
            restartQuiz()
        })
    }

</script>